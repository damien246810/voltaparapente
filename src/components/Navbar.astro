---
const links = [
  { href: "/", label: "Accueil" },
  { href: "/#best-seller", label: "Vols" },
  { href: "/contact", label: "Contact" },
  { href: "/apropos", label: "Ã€ propos" }
];
---

<nav id="navbar" class="fixed top-0 left-0 w-full z-50 transition-all duration-500 bg-transparent">
  <div class="container mx-auto flex items-center justify-between py-2 px-5">
    <!-- Logo -->
    <a href="/">
      <img src="/images/logo.png" alt="Logo Volta" class="h-10 w-10" />
    </a>

    <!-- Hamburger mobile -->
    <button id="menu-btn" class="md:hidden flex flex-col gap-1" aria-label="Toggle menu">
      <span class="block w-6 h-0.5 bg-white"></span>
      <span class="block w-6 h-0.5 bg-white"></span>
      <span class="block w-6 h-0.5 bg-white"></span>
    </button>

    <!-- Liens -->
    <ul id="menu" class="overflow-hidden max-h-0 md:max-h-full md:flex flex-col md:flex-row md:space-x-8 text-white font-medium absolute md:static top-full left-0 w-full md:w-auto bg-black/95 md:bg-transparent transition-[max-height] duration-500">
      {links.map(link => (
        <li>
          <a href={link.href} class="block py-2 px-5 hover:text-yellow-400 transition">
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </div>

  <!-- Script menu + scroll -->
  <!-- @ts-ignore -->
  <script is:client>
    const navbar = document.getElementById("navbar");
    const btn = document.getElementById("menu-btn");
    const menu = document.getElementById("menu");

    // Scroll effect
    window.addEventListener("scroll", () => {
      if (window.scrollY > 50) {
        navbar.classList.add("backdrop-blur-md", "bg-black/80", "shadow-lg");
        navbar.classList.remove("bg-transparent");
      } else {
        navbar.classList.add("bg-transparent");
        navbar.classList.remove("backdrop-blur-md", "bg-black/80", "shadow-lg");
      }
    });

    // Mobile menu toggle avec animation
    btn.addEventListener("click", () => {
      if (menu.classList.contains("max-h-0")) {
        menu.classList.remove("max-h-0");
        menu.classList.add("max-h-96"); // ajustable selon le nombre de liens
      } else {
        menu.classList.add("max-h-0");
        menu.classList.remove("max-h-96");
      }
    });
  </script>
</nav>

